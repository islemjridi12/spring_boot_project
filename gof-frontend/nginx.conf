server {
  listen 80;                           # Le serveur Ã©coute sur le port 80
  server_name localhost;              # Nom du serveur (utile si tu fais du virtual host)

  root /usr/share/nginx/html;         # Dossier de ton app Angular buildÃ©e
  index index.html;                   # Page dâ€™entrÃ©e (SPA)

  # ðŸ§­ Angular Router support â€” redirige vers index.html si le fichier n'existe pas
  location / {
    try_files $uri $uri/ /index.html;
  }

  # ðŸ“¦ Cache des fichiers statiques (JS, CSS, images, fonts)
  location ~* \.(?:ico|css|js|gif|jpe?g|png|woff2?|eot|ttf|svg|webp)$ {
    expires 6M;
    access_log off;
    add_header Cache-Control "public";
  }

  # ðŸš« EmpÃªche l'accÃ¨s aux fichiers cachÃ©s (ex : .env, .gitignore)
  location ~ /\. {
    deny all;
  }
}
